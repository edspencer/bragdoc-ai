<svg viewBox="50 0 1150 380" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Shadow filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
      <feOffset dx="0" dy="2" result="offsetblur"/>
      <feFlood flood-color="#000000" flood-opacity="0.1"/>
      <feComposite in2="offsetblur" operator="in"/>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="500" fill="#f8fafc"/>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#1e293b">
    Privacy-First Achievement Extraction Pipeline
  </text>

  <!-- Local Section Background -->
  <rect x="80" y="80" width="630" height="260" rx="12" fill="#f0fdf4" stroke="#16a34a" stroke-width="2" stroke-dasharray="8,4" opacity="0.5"/>
  <text x="395" y="110" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#14532d">
    ğŸ”’ Local Processing (Your Machine)
  </text>

  <!-- Stage 1: Git Repository -->
  <g transform="translate(100, 150)">
    <rect width="160" height="100" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="30" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#78350f">Git Repository</text>
    <text x="80" y="58" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="28">ğŸ“</text>
    <text x="80" y="80" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#92400e">Commits, branches,</text>
    <text x="80" y="95" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#92400e">diffs, messages</text>
  </g>

  <!-- Arrow 1 -->
  <line x1="260" y1="200" x2="320" y2="200" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Stage 2: BragDoc CLI -->
  <g transform="translate(320, 150)">
    <rect width="160" height="100" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="30" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#1e3a8a">BragDoc CLI</text>
    <text x="80" y="58" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="28">âš™ï¸</text>
    <text x="80" y="80" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#1e40af">Extract &amp; parse</text>
    <text x="80" y="95" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#1e40af">locally</text>
  </g>

  <!-- Arrow 2 -->
  <line x1="480" y1="200" x2="540" y2="200" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Stage 3: AI Processing -->
  <g transform="translate(540, 150)">
    <rect width="160" height="100" rx="8" fill="#e9d5ff" stroke="#9333ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="30" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#581c87">AI Processing</text>
    <text x="80" y="58" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="28">ğŸ¤–</text>
    <text x="80" y="80" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#6b21a8">Summarize &amp;</text>
    <text x="80" y="95" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#6b21a8">contextualize</text>
  </g>

  <!-- Important note about code staying local - moved inside local processing area -->
  <g transform="translate(100, 270)">
    <rect width="550" height="60" rx="8" fill="#dcfce7" stroke="#16a34a" stroke-width="2" filter="url(#shadow)"/>
    <text x="25" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="20">âœ…</text>
    <text x="60" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#14532d">Your source code never leaves your machine</text>
    <text x="60" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#166534">Only achievement summaries are synced (if you choose)</text>

    <!-- Alternative: Local LLM option - positioned inside green box, right-aligned -->
    <g transform="translate(403, 5)">
      <rect width="140" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" stroke-dasharray="4,2" filter="url(#shadow)"/>
      <text x="70" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#78350f">Or use local LLM</text>
      <text x="70" y="35" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#92400e">(Ollama, etc.)</text>
    </g>
  </g>

  <!-- Arrow 3 - to cloud -->
  <path d="M 700 200 Q 750 200 780 240 L 780 260" stroke="#3b82f6" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Optional label -->
  <text x="730" y="220" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#64748b" font-style="italic">Optional sync</text>

  <!-- Cloud Section -->
  <rect x="740" y="80" width="420" height="260" rx="12" fill="#eff6ff" stroke="#3b82f6" stroke-width="2" stroke-dasharray="8,4" opacity="0.5"/>
  <text x="950" y="110" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="#1e40af">
    â˜ï¸ Cloud (Optional)
  </text>

  <!-- Stage 4: Achievements Only -->
  <g transform="translate(780, 260)">
    <rect width="160" height="60" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#78350f">Achievement</text>
    <text x="80" y="35" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#78350f">Summaries</text>
    <text x="80" y="50" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#92400e">ğŸ“ Text only</text>
  </g>

  <!-- Arrow 4 -->
  <line x1="940" y1="290" x2="980" y2="290" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Stage 5: Web Dashboard -->
  <g transform="translate(980, 260)">
    <rect width="160" height="60" rx="8" fill="#dcfce7" stroke="#16a34a" stroke-width="2" filter="url(#shadow)"/>
    <text x="80" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#14532d">Web Dashboard</text>
    <text x="80" y="35" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#14532d">ğŸ’»</text>
    <text x="80" y="50" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#166534">View &amp; manage</text>
  </g>

  <!-- Data flow indicators -->
  <g transform="translate(780, 140)">
    <rect x="-10" y="-10" width="340" height="100" rx="6" fill="#ffffff" stroke="#e2e8f0" stroke-width="1" filter="url(#shadow)"/>

    <text x="10" y="10" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#1e293b">What gets sent:</text>
    <text x="10" y="30" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#16a34a">âœ“ Achievement text</text>
    <text x="10" y="48" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#16a34a">âœ“ Commit messages</text>
    <text x="10" y="66" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#16a34a">âœ“ Timestamps</text>

    <text x="170" y="10" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#1e293b">Never sent:</text>
    <text x="170" y="30" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#dc2626">âœ— Source code</text>
    <text x="170" y="48" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#dc2626">âœ— File contents</text>
    <text x="170" y="66" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#dc2626">âœ— Secrets/credentials</text>
  </g>
</svg>