{"id":"BRAG-10e","title":"Acceptance Criteria","description":"- [ ] Skill takes a snapshot file as input","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.312639-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-113","title":"Design Notes","description":"Create standalone skill at `.claude/skills/corpus-summary-report.md` that:","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.313645-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-14t","title":"Acceptance Criteria","description":"- [ ] Skill iterates through repos in `corpus/manifest.json`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.311871-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-2i8","title":"Acceptance Criteria","description":"- [ ] Skill discovers 20 repositories per category (100 total)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.311044-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-3g3","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.313145-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-5fn","title":"CLI Corpus Testing Infrastructure","description":"Build a testing infrastructure that validates `bragdoc extract` against ~100 real open-source repositories (20 per category across 5 categories) to identify extraction quality issues, ensure the CLI handles diverse repository patterns, and detect regressions when extraction logic changes.\n\n## Problem Statement\n\nThe `bragdoc extract` command processes Git commits to identify professional achievements, but we lack systematic validation that it works well across the diversity of real-world repositories. Specific concerns include:\n\n- **Squash merge commits**: A week's worth of work compressed into a single commit with a generic message\n- **Large commits**: 25+ files changed in one commit, potentially representing multiple distinct achievements\n- **Branch-based workflows**: Feature branches merged via merge commits, where the real work is in branch commits\n- **Monorepo patterns**: Multiple projects/teams in one repo with different commit conventions\n- **Varied commit message styles**: Conventional commits, free-form, ticket references, etc.\n\n## Goals\n\n1. **Discover** a representative corpus of 100 OSS repositories (20 per category) that reflect real developer workflows\n2. **Extract** achievements from each repo for a synthetic test author (last 500 commits by that author)\n3. **Assess** extraction quality using an LLM-as-judge approach that understands common extraction pitfalls\n4. **Snapshot** results to enable regression detection over time\n5. **Report** findings in human-readable Markdown for collaborative iteration on extraction quality\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"open","priority":1,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-20T14:01:05.292285-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:01:05.292285-05:00","external_ref":"gh-351","labels":["cli","infrastructure","ralph","testing"]}
{"id":"BRAG-5fn.1","title":"US-5: Set Up Corpus Directory Structure","description":"**As a** developer working on corpus testing\n**I want to** have the corpus directory structure in place\n**So that** skills have a consistent place to store data\n\n## Acceptance Criteria\n\n- [ ] Create `corpus/` directory structure:\n  - `corpus/manifest.json` (placeholder)\n  - `corpus/snapshots/.gitkeep`\n  - `corpus/reports/.gitkeep`\n- [ ] Add `.corpus-cache/` to `.gitignore`\n- [ ] Document directory structure in corpus/README.md\n\n## Design Notes\n\nSimple setup task to create the directory structure that all skills depend on.\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","estimated_minutes":30,"created_at":"2026-01-20T14:01:12.498718-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:09:59.411803-05:00","closed_at":"2026-01-20T14:09:59.411803-05:00","close_reason":"Completed by agent","labels":["cli","infrastructure","ralph","testing"],"dependencies":[{"issue_id":"BRAG-5fn.1","depends_on_id":"BRAG-5fn","type":"parent-child","created_at":"2026-01-20T14:01:12.499231-05:00","created_by":"Ed Spencer"}]}
{"id":"BRAG-5fn.2","title":"US-1: Discover Corpus Repositories","description":"**As a** developer maintaining bragdoc extraction quality\n**I want to** automatically discover representative OSS repositories\n**So that** I have a diverse test corpus without manual curation\n\n## Acceptance Criteria\n\n- [ ] Skill discovers 20 repositories per category (100 total)\n- [ ] Categories covered: monorepos, squash-merge-heavy, conventional-commits, high-activity, small-team\n- [ ] Each repo has metadata: URL, primary language, star count, commit frequency, merge strategy indicators\n- [ ] Results saved to `corpus/manifest.json`\n- [ ] Skill uses web search, GitHub API, and background knowledge to find repos\n- [ ] Repos represent what real developers actually work on\n\n## Design Notes\n\nCreate standalone skill at `.claude/skills/discover-corpus-repos.md` that:\n- Uses web search and GitHub API to discover repos\n- Categorizes repos based on merge patterns, commit frequency, contributor count\n- Validates repos are public and have sufficient history\n- Outputs structured manifest.json\n\n### Manifest Schema\n\n```json\n{\n  \"version\": \"1.0\",\n  \"generatedAt\": \"2025-01-20T00:00:00Z\",\n  \"categories\": {\n    \"monorepos\": {\n      \"description\": \"Large repositories with multiple projects/packages\",\n      \"repos\": [\n        {\n          \"url\": \"https://github.com/facebook/react\",\n          \"slug\": \"facebook-react\",\n          \"language\": \"JavaScript\",\n          \"stars\": 220000,\n          \"mergeStrategy\": \"squash\",\n          \"commitFrequency\": \"high\",\n          \"testAuthor\": \"gaearon\",\n          \"notes\": \"Major monorepo with packages/ structure\"\n        }\n      ]\n    }\n  }\n}\n```\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"closed","priority":1,"issue_type":"feature","owner":"ed@edspencer.net","estimated_minutes":120,"created_at":"2026-01-20T14:01:25.356666-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:20:15.715304-05:00","closed_at":"2026-01-20T14:20:15.715304-05:00","close_reason":"Completed by agent","labels":["cli","ralph","skill","testing"],"dependencies":[{"issue_id":"BRAG-5fn.2","depends_on_id":"BRAG-5fn","type":"parent-child","created_at":"2026-01-20T14:01:25.357175-05:00","created_by":"Ed Spencer"},{"issue_id":"BRAG-5fn.2","depends_on_id":"BRAG-5fn.1","type":"blocks","created_at":"2026-01-20T14:01:25.358069-05:00","created_by":"Ed Spencer"}]}
{"id":"BRAG-5fn.3","title":"US-2: Run Corpus Extraction","description":"**As a** developer testing extraction quality\n**I want to** run `bragdoc extract` against corpus repositories\n**So that** I can see what achievements are identified\n\n## Acceptance Criteria\n\n- [ ] Skill iterates through repos in `corpus/manifest.json`\n- [ ] For each repo: clones (or uses cached clone), identifies a test author, extracts their last 500 commits\n- [ ] Saves extraction output (achievements JSON, no embeddings) to `corpus/snapshots/{repo-slug}/{timestamp}.json`\n- [ ] Supports running against a single repo, a category, or all repos\n- [ ] Handles failures gracefully (logs error, continues to next repo)\n- [ ] Caches cloned repositories in `.corpus-cache/` (gitignored)\n\n## Design Notes\n\nCreate standalone skill at `.claude/skills/run-corpus-extraction.md` that:\n- Reads manifest.json\n- Clones repos (shallow clone, cached)\n- Identifies test author (most commits in last 12 months, min 100 commits)\n- Runs `bragdoc extract` with appropriate flags\n- Saves snapshots without embedding vectors\n\n### Snapshot Schema\n\n```json\n{\n  \"version\": \"1.0\",\n  \"extractedAt\": \"2025-01-20T00:00:00Z\",\n  \"repo\": {\n    \"url\": \"https://github.com/facebook/react\",\n    \"slug\": \"facebook-react\"\n  },\n  \"author\": {\n    \"name\": \"Dan Abramov\",\n    \"email\": \"gaearon@users.noreply.github.com\",\n    \"commitCount\": 500\n  },\n  \"extraction\": {\n    \"achievementCount\": 47,\n    \"achievements\": [\n      {\n        \"title\": \"...\",\n        \"summary\": \"...\",\n        \"impact\": \"...\",\n        \"eventStart\": \"...\",\n        \"eventEnd\": \"...\",\n        \"source\": \"git\",\n        \"sourceIds\": [\"abc123\", \"def456\"]\n      }\n    ]\n  }\n}\n```\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"closed","priority":1,"issue_type":"feature","owner":"ed@edspencer.net","estimated_minutes":90,"created_at":"2026-01-20T14:01:37.478798-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:22:23.185952-05:00","closed_at":"2026-01-20T14:22:23.185952-05:00","close_reason":"Completed by agent","labels":["cli","ralph","skill","testing"],"dependencies":[{"issue_id":"BRAG-5fn.3","depends_on_id":"BRAG-5fn","type":"parent-child","created_at":"2026-01-20T14:01:37.479311-05:00","created_by":"Ed Spencer"},{"issue_id":"BRAG-5fn.3","depends_on_id":"BRAG-5fn.2","type":"blocks","created_at":"2026-01-20T14:01:37.48029-05:00","created_by":"Ed Spencer"}]}
{"id":"BRAG-5fn.4","title":"US-3: Assess Extraction Quality","description":"**As a** developer improving extraction logic\n**I want to** evaluate how well achievements were extracted\n**So that** I can identify specific issues to fix\n\n## Acceptance Criteria\n\n- [ ] Skill takes a snapshot file as input\n- [ ] LLM-as-judge evaluates extraction quality considering:\n  - Squash merge handling (did we miss work compressed into single commits?)\n  - Large commit handling (did we identify multiple achievements in big commits?)\n  - Branch workflow handling (did we attribute work correctly?)\n  - Achievement completeness (major work not captured?)\n  - Achievement accuracy (hallucinated or inflated claims?)\n  - Commit message quality impact (poor messages â†’ poor achievements?)\n- [ ] Outputs Markdown report to `corpus/reports/{repo-slug}/{timestamp}.md`\n- [ ] Report includes: overall quality score, specific issues found, example problematic commits, recommendations\n\n## Design Notes\n\nCreate standalone skill at `.claude/skills/assess-corpus-extraction.md` that:\n- Loads snapshot and corresponding commit data\n- Analyzes extraction quality using LLM reasoning\n- Produces structured Markdown report\n- Flags specific problematic patterns\n\n### Assessment Report Structure\n\n```markdown\n# Extraction Assessment: facebook/react\n\n**Date:** 2025-01-20\n**Author:** Dan Abramov (gaearon)\n**Commits Analyzed:** 500\n**Achievements Extracted:** 47\n\n## Overall Quality Score: 7/10\n\n## Issues Identified\n\n### Squash Merge Handling (Score: 6/10)\n- 12 squash merge commits detected\n- 8 appear to compress multiple distinct achievements\n- Example: Commit \\`abc123\\` contains 3 separate feature implementations\n\n### Large Commit Handling (Score: 7/10)\n- 5 commits with 25+ files changed\n- 3 correctly split into multiple achievements\n- 2 merged into single achievement (potential under-counting)\n\n## Recommendations\n1. Consider splitting achievements when commit message contains multiple bullet points\n2. Look for PR references in squash commits to recover original commit context\n```\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"closed","priority":1,"issue_type":"feature","owner":"ed@edspencer.net","estimated_minutes":120,"created_at":"2026-01-20T14:01:51.626349-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:24:53.225029-05:00","closed_at":"2026-01-20T14:24:53.225029-05:00","close_reason":"Completed by agent","labels":["cli","ralph","skill","testing"],"dependencies":[{"issue_id":"BRAG-5fn.4","depends_on_id":"BRAG-5fn","type":"parent-child","created_at":"2026-01-20T14:01:51.626899-05:00","created_by":"Ed Spencer"},{"issue_id":"BRAG-5fn.4","depends_on_id":"BRAG-5fn.3","type":"blocks","created_at":"2026-01-20T14:01:51.627894-05:00","created_by":"Ed Spencer"}]}
{"id":"BRAG-5fn.5","title":"US-4: Generate Corpus Summary Report","description":"**As a** developer reviewing overall extraction quality\n**I want to** see aggregated results across the corpus\n**So that** I can prioritize which issues to address\n\n## Acceptance Criteria\n\n- [ ] Skill aggregates all individual assessment reports\n- [ ] Produces summary Markdown showing:\n  - Quality scores by category\n  - Most common issue types\n  - Repos with worst/best extraction quality\n  - Trends if multiple snapshots exist\n- [ ] Output to `corpus/reports/summary.md`\n\n## Design Notes\n\nCreate standalone skill at `.claude/skills/corpus-summary-report.md` that:\n- Reads all assessment reports from `corpus/reports/`\n- Aggregates scores and issues\n- Produces executive summary with actionable insights\n\n## Quality Gates\n\n- `pnpm typecheck`\n- `pnpm lint`","status":"closed","priority":1,"issue_type":"feature","owner":"ed@edspencer.net","estimated_minutes":60,"created_at":"2026-01-20T14:01:59.50716-05:00","created_by":"Ed Spencer","updated_at":"2026-01-20T14:27:16.138949-05:00","closed_at":"2026-01-20T14:27:16.138949-05:00","close_reason":"Completed by agent","labels":["cli","ralph","skill","testing"],"dependencies":[{"issue_id":"BRAG-5fn.5","depends_on_id":"BRAG-5fn","type":"parent-child","created_at":"2026-01-20T14:01:59.50767-05:00","created_by":"Ed Spencer"},{"issue_id":"BRAG-5fn.5","depends_on_id":"BRAG-5fn.4","type":"blocks","created_at":"2026-01-20T14:01:59.508627-05:00","created_by":"Ed Spencer"}]}
{"id":"BRAG-a37","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.312389-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-don","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.311609-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-fa6","title":"Design Notes","description":"Create standalone skill at `.claude/skills/assess-corpus-extraction.md` that:","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.312899-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-iox","title":"Design Notes","description":"Create standalone skill at `.claude/skills/discover-corpus-repos.md` that:","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.311339-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-jvk","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.314653-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-miw","title":"Design Notes","description":"Create standalone skill at `.claude/skills/run-corpus-extraction.md` that:","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.312127-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-n3r","title":"Design Notes","description":"Simple setup task to create the directory structure that all skills depend on.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.314407-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-o6g","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.313911-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-p1d","title":"Background","description":"The `bragdoc extract` command processes Git commits to identify professional achievements, but we lack systematic validation across diverse real-world repositories. Key concerns include squash merge handling, large commits, branch workflows, and varied commit message styles.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.310722-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-psp","title":"Acceptance Criteria","description":"- [ ] Create `corpus/` directory structure:","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.314154-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-snp","title":"Acceptance Criteria","description":"- [ ] Skill aggregates all individual assessment reports","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.313401-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"BRAG-xxs","title":"Quality Gates","description":"- `pnpm typecheck`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T14:00:34.310029-05:00","updated_at":"2026-01-20T14:00:44.634849-05:00","deleted_at":"2026-01-20T14:00:44.634849-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
